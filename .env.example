# Application
NODE_ENV=development
PORT=3000
LOG_LEVEL=debug

# Database (Postgres)
DATABASE_URL=postgresql://app_user:password@localhost:5432/einvoice_dev
DATABASE_POOL_MIN=2
DATABASE_POOL_MAX=10

# Postgres RLS (set per request)
# app.tenant_id is set dynamically by the application

# Storage (S3-compatible)
STORAGE_PROVIDER=s3  # or 'fs' for local development
S3_ENDPOINT=https://s3.amazonaws.com
S3_REGION=eu-central-1
S3_BUCKET=e-rechnung-tool-dev
S3_ACCESS_KEY_ID=your_access_key
S3_SECRET_ACCESS_KEY=your_secret_key

# Local FS Storage (when STORAGE_PROVIDER=fs)
FS_STORAGE_PATH=./.data

# Email Ingestion
EMAIL_PROVIDER=imap  # or 'catch-all' for plus-addressing
EMAIL_DOMAIN=einvoice.e-rechnung.example

# IMAP Configuration (per-tenant, stored in DB)
# These are just examples; actual credentials stored encrypted in DB
# IMAP_HOST=imap.example.com
# IMAP_PORT=993
# IMAP_USER=invoices@example.com
# IMAP_PASSWORD=encrypted_password

# Authentication
JWT_SECRET=your_jwt_secret_min_32_chars_change_in_production
JWT_EXPIRES_IN=15m
REFRESH_TOKEN_EXPIRES_IN=7d
SESSION_SECRET=your_session_secret_change_in_production

# API Keys
API_KEY_PREFIX=pdm_dev_  # or pdm_live_ for production

# Security
BCRYPT_ROUNDS=12
ALLOWED_ORIGINS=http://localhost:3000,http://localhost:5173

# Export
EXPORT_SIGNED_URL_EXPIRES_IN=86400  # 24 hours in seconds

# Monitoring
METRICS_ENABLED=true
METRICS_PORT=9090

# Feature Flags
ENABLE_IMAP_FETCHER=true
ENABLE_ANALYTICS=true
